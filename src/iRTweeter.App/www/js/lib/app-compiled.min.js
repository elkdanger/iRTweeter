!function(e){e.moduleName="irtweeter",$.get("/api/auth/user").then(function(e){console.log(e)}),angular.module(e.moduleName,["ngRoute"]).config(["$routeProvider",function(e){e.when("/",{templateUrl:"/views/index.html",controller:"HomeController"}).when("/settings",{templateUrl:"views/settings.html",controller:"SettingsController"}).when("/about",{templateUrl:"/views/about.html",controller:"AboutController"}).otherwise({redirectTo:"/"})}])}(window.App=window.App||{}),$(function(){$("body").on("click","[external]",function(e){e.preventDefault(),window.open(this.href)})}),function(){angular.module(App.moduleName).controller("AboutController",["$scope",function(){}])}(),function(){angular.module(App.moduleName).controller("HeaderController",["$scope","AuthenticationService",function(e,n){e.isConnected=!1,n.init().success(function(){n.user&&(e.isConnected=!0,e.authInfo={username:n.user.ScreenName,name:n.user.Name,url:n.user.Url,imageUrl:n.user.ProfileImageUrl})})}])}(),function(){angular.module(App.moduleName).controller("HomeController",["$scope","$rootScope",function(){}])}(),function(){angular.module(App.moduleName).controller("SettingsController",["$scope","$http","AuthenticationService",function(e,n,o){function t(){e.isConnectedToTwitter=void 0!=o.user,o.user&&(e.authInfo={username:o.user.ScreenName,name:o.user.Name,url:o.user.Url,imageUrl:o.user.ProfileImageUrl})}e.saved=!1,t(o.user),n.get("/api/settings").success(function(n){e.settings=n}),e.save=function(o){e.saved=!1,n.put("/api/settings",o).success(function(){e.saved=!0,e.settingsForm.$setPristine()})},e.twitterAuth=function(){var e=location.protocol+"//"+location.host+"#/settings",n="/api/auth/external?redirect_uri="+e;window.location=n},e.$on("socialConnected",function(e){console.log("Socially connected!"),t(e)})}])}(),function(){angular.module(App.moduleName).service("AuthenticationService",["$http","$rootScope",function(e,n){var o=function(){};return o.prototype={init:function(){var o=this;return e.get("/api/auth/user").success(function(e){o.user=e,n.$broadcast("socialConnected",e)})}},new o}])}(),function(){angular.module(App.moduleName).service("SignalRService",function(){return{initialise:function(){connection=$.hubConnection(),this.proxy=connection.createHubProxy("settingsHub"),connection.start().done(function(){console.log("Connected to hub"),$rootScope.connected=!0})}}})}();